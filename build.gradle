/*
 * This file was generated by the Gradle 'init' task.
 */
plugins {
    id "org.sonarqube" version "2.8"
}

allprojects {
    apply plugin: 'maven'

    group = 'com.gov-poc'
    version = '1.0.1-SNAPSHOT'
}

subprojects {
    apply plugin: 'java'

    repositories {
        mavenCentral()
        maven {
            url = 'http://repo.maven.apache.org/maven2'
        }
    }

    project(":health-service") {
        sonarqube {
            properties {
                property "sonar.sources", "src/main/java/com/gov/zw"
                property "sonar.tests", "src/test/java/com/gov/zw"
                property "sonar.exclusions", "**/*Application.java"
                // build/test-results
                property "sonar.junit.reportPaths", "build/reports/tests/test"
            }
        }
    }

    project(":configuration-server") {
        sonarqube {
            skipProject = true
        }
    }

    project(":gateway") {
        sonarqube {
            skipProject = true
        }
    }

    project(":discovery-server") {
        sonarqube {
            skipProject = true
        }
    }

    sourceCompatibility = "${javaVersion}"
}

//sonarqube {
//    properties {
//        property "sonar.sourceEncoding", "UTF-8"
//    }
//}
